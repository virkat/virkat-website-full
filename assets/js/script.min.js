document.addEventListener("DOMContentLoaded",()=>{const e=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".nav-link").forEach(t=>{const n=t.getAttribute("href").split("/").pop();n===e&&t.classList.add("active")});const t=document.querySelector(".hamburger"),n=document.querySelector(".nav-links");if(t&&n){n.id||(n.id="primary-navigation"),t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.setAttribute("aria-controls",n.id),t.setAttribute("aria-expanded","false"),t.getAttribute("aria-label")||t.setAttribute("aria-label","Open menu");const e=document.querySelector("main"),o=document.querySelector("footer");function a(e){[e,o].forEach((e=>{if(!e)return; e.classList[e===null?"remove":"add"]}))}function r(e){if(!n.classList.contains("open"))return; if("Tab"!==e.key)return;const t=Array.from(n.querySelectorAll("a[href]:not([tabindex='-1']):not([aria-disabled='true']), button:not([disabled]):not([tabindex='-1']), [tabindex]:not([tabindex='-1']), input:not([disabled]), select:not([disabled]), textarea:not([disabled])")).filter((e=>{if(!e)return!1;const t=window.getComputedStyle(e);return"hidden"!==t.visibility&&"none"!==t.display}));if(0===t.length)return e.preventDefault(),void n.focus();const o=t[0],a=t[t.length-1];e.shiftKey?document.activeElement!==o&&n.contains(document.activeElement)||(e.preventDefault(),a.focus()):document.activeElement!==a&&n.contains(document.activeElement)||(e.preventDefault(),o.focus())}let i=null;function s(){n.classList.remove("open"),t.classList.remove("active"),document.body.classList.remove("no-scroll"),document.body.classList.remove("menu-open"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-label","Open menu"),a(!1),document.removeEventListener("keydown",r,!0),setTimeout((()=>{i&&i.focus?i.focus():t&&t.focus&&t.focus()}),0)}function l(){n.classList.add("open"),t.classList.add("active"),document.body.classList.add("no-scroll"),document.body.classList.add("menu-open"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-label","Close menu"),a(!0),i=document.activeElement,setTimeout((()=>{const e=Array.from(n.querySelectorAll("a[href]:not([tabindex='-1']):not([aria-disabled='true']), button:not([disabled]):not([tabindex='-1']), [tabindex]:not([tabindex='-1']), input:not([disabled]), select:not([disabled]), textarea:not([disabled])")).filter((e=>{if(!e)return!1;const t=window.getComputedStyle(e);return"hidden"!==t.visibility&&"none"!==t.display}));e.length>0?e[0].focus():(n.setAttribute("tabindex","-1"),n.focus()))},0),document.addEventListener("keydown",r,!0)}t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),n.classList.contains("open")?s():l()})),t.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n.classList.contains("open")?s():l())})),n.addEventListener("click",(e=>{const t=e.target.closest&&e.target.closest(".nav-link");if(!t)return;const o=t.getAttribute("href");if(!o)return;if(o.startsWith("#")){e.preventDefault(),n.classList.contains("open")&&s();const t=document.querySelector(o);t&&t.scrollIntoView({behavior:"smooth"});return}n.classList.contains("open")&&setTimeout(s,0)}),{passive:!1});function c(e){const o=e.target.closest&&e.target.closest(".nav-links .nav-link");if(!o)return;const a=o.getAttribute("href")||"";if(!a||a.startsWith("#"))return;if(!n.classList.contains("open"))return;try{window.location.href=o.href}catch(e){window.location.assign(a)}}document.addEventListener("click",c,!0),document.addEventListener("touchend",c,!0),document.addEventListener("click",(e=>{if(!n.classList.contains("open"))return;const o=n.contains(e.target),a=t.contains(e.target);o||a||s()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&n.classList.contains("open")&&s()}))}});